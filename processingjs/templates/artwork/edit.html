{% extends "base.html" %}

{% block extras %}
{% load staticfiles %}
<script type="text/javascript" src="{% static "js/processing.min.js" %}"></script>
<script type="text/javascript" src="{% static "js/artwork-edit.js" %}"></script>
{% endblock %}

{% block content %}
<div id="artwork-edit-content">
{% if artwork.id %}
<h1>Edit Artwork</h1>
{% else %}
<h1>Add Artwork</h1>
{% endif %}
<form method="post" action="{{ action }}" enctype="multipart/form-data">
    {% csrf_token %}
    <ul class="edit_fields">
    {{ form.as_ul }}
    </ul>
    <div class="row">
        <div class="small-6 columns">
            <button id="save_artwork" type="submit" class="postfix button">Save</button>
        </div>
        <div class="small-6 columns">
            <button id="draw" class="postfix button">Draw</button>
        </div>
    </div>
</form>
<a id="save_cancel" href="{% url "artwork-list" %}">back to list</a>
<div id="error"></div>
<canvas id="canvas-preview"></canvas>
<script id="script-preview" type="text/processing" data-processing-target="canvas-preview">
    {% autoescape off %}
    {{ artwork.code }}
    {% endautoescape %}
</script>
</div>
{% endblock content %}
